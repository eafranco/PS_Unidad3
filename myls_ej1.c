/* myls.c: lista el directorio pasado como argumento,  si no se da el argumento, lista el directorio actual */#include <dirent.h>#include <errno.h>#include <stdio.h>#include <string.h>void mostrar(char *name){ FILE *archivo; char buffer[2000];  archivo = fopen(name,"r+b"); fread(&buffer,2000,1,archivo); printf("%s\n",buffer); fclose(archivo);}static void listar(const char *path){	DIR *dirp;	struct dirent *dp;	int c=0;	if ((dirp = opendir(path)) == NULL) {		printf("no se pudo abrir %s",path);		return;	}	do { // cada llamada a readdir devuelve una entrada del directorio		errno = 0;		if ((dp = readdir(dirp)) != NULL) {          			printf("%-25s   %ld \n",dp->d_name, dp->d_ino);  // nombre del archivo o directorio		}		c++;		if(c==3)			{				mostrar(dp->d_name);				break;			}	} while (dp != NULL);	(void) closedir(dirp);	if (errno != 0)		perror("error al leer el directorio");}int main(int argc, char *argv[]){	// listar el directorio pasado en arg	switch(argc) {	case 2:		listar(argv[1]); // pasar el directorio		break;	case 1:		listar(".");      // pasar directorio actual		break;	default:		printf("Usar: myls o myls path\n");	}	return (0);}